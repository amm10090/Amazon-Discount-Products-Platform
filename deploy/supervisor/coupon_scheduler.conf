[program:coupon_scheduler]
command=%(PROJECT_ROOT)s/venv/bin/python %(PROJECT_ROOT)s/scripts/schedule_coupon_scraper.py
directory=%(PROJECT_ROOT)s
user=root
autostart=true
autorestart=true
startretries=3
stopwaitsecs=10
stopasgroup=true
killasgroup=true
stdout_logfile=%(PROJECT_ROOT)s/logs/supervisor_coupon_scheduler.log
stderr_logfile=%(PROJECT_ROOT)s/logs/supervisor_coupon_scheduler_error.log

; 添加环境变量，确保调度器可以访问所有需要的配置
environment=PYTHONUNBUFFERED=1,PYTHONPATH="%(PROJECT_ROOT)s",APP_LOG_DIR="%(PROJECT_ROOT)s/logs" 